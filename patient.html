<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jarurat Care - Patient Records</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .app {
            min-height: 100vh;
        }

        .main-content {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .navigation {
            display: flex;
            gap: 1rem;
        }

        .nav-btn {
            background: transparent;
            border: 2px solid transparent;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-btn:hover,
        .nav-btn.active {
            background: rgba(255,255,255,0.2);
            border-color: white;
        }

        /* Patients Page Styles */
        .patients-page {
            padding: 20px 0;
        }

        .patients-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .patients-header h2 {
            color: #333;
            font-size: 2rem;
        }

        .add-patient-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s ease;
        }

        .add-patient-btn:hover {
            background: #5a6fd8;
        }

        /* Search Bar */
        .search-bar {
            position: relative;
            max-width: 500px;
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        /* Patients Grid */
        .patients-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .no-patients {
            grid-column: 1 / -1;
            text-align: center;
            padding: 3rem;
            color: #666;
            font-size: 1.1rem;
        }

        /* Patient Card */
        .patient-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .patient-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .patient-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .patient-info h3 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .patient-info p {
            color: #666;
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
        }

        .patient-actions {
            margin-top: auto;
            padding-top: 1rem;
        }

        .view-details-btn {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }

        .view-details-btn:hover {
            background: #667eea;
            color: white;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid #e1e5e9;
        }

        .modal-header h2 {
            color: #333;
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            color: #333;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .patient-detail-section {
            margin-bottom: 2rem;
        }

        .patient-detail-section h3 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .detail-grid {
            display: grid;
            gap: 1rem;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .detail-item label {
            font-weight: 600;
            color: #333;
        }

        .detail-item span {
            color: #666;
            text-align: right;
        }

        /* Form Styles */
        .patient-form {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        .cancel-btn,
        .submit-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .cancel-btn {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e1e5e9;
        }

        .cancel-btn:hover {
            background: #e9ecef;
        }

        .submit-btn {
            background: #667eea;
            color: white;
        }

        .submit-btn:hover {
            background: #5a6fd8;
        }

        /* Home Page */
        .home-page {
            text-align: center;
            padding: 3rem 0;
        }

        .hero-section h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-section p {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 3rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        /* About Page */
        .about-page {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }

        .about-page h2 {
            text-align: center;
            margin-bottom: 2rem;
            color: #333;
        }

        .about-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .about-features {
            margin-top: 2rem;
        }

        .about-features h3 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .about-features ul {
            list-style: none;
            padding-left: 0;
        }

        .about-features li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .about-features li:before {
            content: "✓ ";
            color: #667eea;
            font-weight: bold;
        }

        /* Loading and Error States */
        .loading-spinner,
        .error-message {
            text-align: center;
            padding: 3rem;
            font-size: 1.2rem;
        }

        .loading-spinner {
            color: #667eea;
        }

        .error-message {
            color: #e74c3c;
            background: #ffeaea;
            border-radius: 10px;
            margin: 2rem 0;
        }

        .retry-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 1rem;
        }

        .retry-btn:hover {
            background: #c0392b;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 1rem;
            }

            .patients-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .patients-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .form-actions {
                flex-direction: column;
            }

            .hero-section h1 {
                font-size: 2rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                margin: 10px;
                max-height: calc(100vh - 20px);
            }

            .detail-item {
                flex-direction: column;
                gap: 0.25rem;
            }

            .detail-item span {
                text-align: left;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 10px;
            }

            .patient-card {
                padding: 1rem;
            }

            .modal-body {
                padding: 1rem;
            }

            .patient-form {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Header Component
        const Header = ({ currentPage, setCurrentPage }) => {
            return (
                <header className="header">
                    <div className="header-container">
                        <div className="logo">
                            <h1>Jarurat Care</h1>
                        </div>
                        <nav className="navigation">
                            <button 
                                className={`nav-btn ${currentPage === 'home' ? 'active' : ''}`}
                                onClick={() => setCurrentPage('home')}
                            >
                                Home
                            </button>
                            <button 
                                className={`nav-btn ${currentPage === 'patients' ? 'active' : ''}`}
                                onClick={() => setCurrentPage('patients')}
                            >
                                Patients
                            </button>
                            <button 
                                className={`nav-btn ${currentPage === 'about' ? 'active' : ''}`}
                                onClick={() => setCurrentPage('about')}
                            >
                                About
                            </button>
                        </nav>
                    </div>
                </header>
            );
        };

        // Patient Card Component
        const PatientCard = ({ patient, onViewDetails }) => {
            return (
                <div className="patient-card">
                    <div className="patient-avatar">
                        {patient.name.split(' ').map(n => n[0]).join('')}
                    </div>
                    <div className="patient-info">
                        <h3 className="patient-name">{patient.name}</h3>
                        <p className="patient-age">Age: {patient.age}</p>
                        <p className="patient-contact">{patient.contact}</p>
                        <p className="patient-email">{patient.email}</p>
                    </div>
                    <div className="patient-actions">
                        <button 
                            className="view-details-btn"
                            onClick={() => onViewDetails(patient)}
                        >
                            View Details
                        </button>
                    </div>
                </div>
            );
        };

        // Search Bar Component
        const SearchBar = ({ searchQuery, onSearchChange }) => {
            return (
                <div className="search-bar">
                    <input
                        type="text"
                        placeholder="Search patients by name..."
                        value={searchQuery}
                        onChange={(e) => onSearchChange(e.target.value)}
                        className="search-input"
                    />
                    <span className="search-icon">🔍</span>
                </div>
            );
        };

        // Patient Modal Component
        const PatientModal = ({ patient, onClose }) => {
            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal-content" onClick={e => e.stopPropagation()}>
                        <div className="modal-header">
                            <h2>Patient Details</h2>
                            <button className="close-btn" onClick={onClose}>×</button>
                        </div>
                        
                        <div className="modal-body">
                            <div className="patient-detail-section">
                                <h3>Personal Information</h3>
                                <div className="detail-grid">
                                    <div className="detail-item">
                                        <label>Full Name:</label>
                                        <span>{patient.name}</span>
                                    </div>
                                    <div className="detail-item">
                                        <label>Age:</label>
                                        <span>{patient.age}</span>
                                    </div>
                                    <div className="detail-item">
                                        <label>Blood Group:</label>
                                        <span>{patient.bloodGroup}</span>
                                    </div>
                                    <div className="detail-item">
                                        <label>Contact:</label>
                                        <span>{patient.contact}</span>
                                    </div>
                                    <div className="detail-item">
                                        <label>Email:</label>
                                        <span>{patient.email}</span>
                                    </div>
                                    <div className="detail-item">
                                        <label>Address:</label>
                                        <span>{patient.address}</span>
                                    </div>
                                </div>
                            </div>

                            <div className="patient-detail-section">
                                <h3>Medical Information</h3>
                                <div className="detail-grid">
                                    <div className="detail-item">
                                        <label>Medical History:</label>
                                        <span>{patient.medicalHistory.join(', ') || 'None'}</span>
                                    </div>
                                    <div className="detail-item">
                                        <label>Last Visit:</label>
                                        <span>{patient.lastVisit}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Add Patient Form Component
        const AddPatientForm = ({ onAddPatient, onCancel }) => {
            const [formData, setFormData] = useState({
                name: '',
                age: '',
                contact: '',
                email: '',
                address: '',
                bloodGroup: 'A+',
                medicalHistory: ''
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                
                if (!formData.name || !formData.age || !formData.contact) {
                    alert('Please fill in all required fields');
                    return;
                }

                const newPatient = {
                    ...formData,
                    age: parseInt(formData.age),
                    medicalHistory: formData.medicalHistory ? formData.medicalHistory.split(',') : [],
                    lastVisit: new Date().toLocaleDateString()
                };

                onAddPatient(newPatient);
                setFormData({
                    name: '',
                    age: '',
                    contact: '',
                    email: '',
                    address: '',
                    bloodGroup: 'A+',
                    medicalHistory: ''
                });
            };

            const handleChange = (e) => {
                setFormData({
                    ...formData,
                    [e.target.name]: e.target.value
                });
            };

            return (
                <div className="modal-overlay">
                    <div className="modal-content">
                        <div className="modal-header">
                            <h2>Add New Patient</h2>
                            <button className="close-btn" onClick={onCancel}>×</button>
                        </div>
                        
                        <form onSubmit={handleSubmit} className="patient-form">
                            <div className="form-group">
                                <label>Full Name *</label>
                                <input
                                    type="text"
                                    name="name"
                                    value={formData.name}
                                    onChange={handleChange}
                                    required
                                />
                            </div>

                            <div className="form-row">
                                <div className="form-group">
                                    <label>Age *</label>
                                    <input
                                        type="number"
                                        name="age"
                                        value={formData.age}
                                        onChange={handleChange}
                                        min="0"
                                        max="120"
                                        required
                                    />
                                </div>

                                <div className="form-group">
                                    <label>Blood Group</label>
                                    <select name="bloodGroup" value={formData.bloodGroup} onChange={handleChange}>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                    </select>
                                </div>
                            </div>

                            <div className="form-group">
                                <label>Contact Number *</label>
                                <input
                                    type="tel"
                                    name="contact"
                                    value={formData.contact}
                                    onChange={handleChange}
                                    required
                                />
                            </div>

                            <div className="form-group">
                                <label>Email</label>
                                <input
                                    type="email"
                                    name="email"
                                    value={formData.email}
                                    onChange={handleChange}
                                />
                            </div>

                            <div className="form-group">
                                <label>Address</label>
                                <textarea
                                    name="address"
                                    value={formData.address}
                                    onChange={handleChange}
                                    rows="3"
                                />
                            </div>

                            <div className="form-group">
                                <label>Medical History (comma separated)</label>
                                <input
                                    type="text"
                                    name="medicalHistory"
                                    value={formData.medicalHistory}
                                    onChange={handleChange}
                                    placeholder="Hypertension, Diabetes, etc."
                                />
                            </div>

                            <div className="form-actions">
                                <button type="button" onClick={onCancel} className="cancel-btn">
                                    Cancel
                                </button>
                                <button type="submit" className="submit-btn">
                                    Add Patient
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        };

        // Home Page Component
        const Home = () => {
            return (
                <div className="home-page">
                    <div className="hero-section">
                        <h1>Welcome to Jarurat Care</h1>
                        <p>Comprehensive Patient Management System</p>
                        <div className="features-grid">
                            <div className="feature-card">
                                <h3>📋 Patient Records</h3>
                                <p>Manage and access patient information securely</p>
                            </div>
                            <div className="feature-card">
                                <h3>🔍 Quick Search</h3>
                                <p>Find patient records instantly with powerful search</p>
                            </div>
                            <div className="feature-card">
                                <h3>📱 Responsive</h3>
                                <p>Access from any device, anywhere</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // About Page Component
        const About = () => {
            return (
                <div className="about-page">
                    <h2>About Jarurat Care</h2>
                    <div className="about-content">
                        <p>
                            Jarurat Care is a comprehensive patient management system designed to 
                            streamline healthcare operations and improve patient care quality.
                        </p>
                        <div className="about-features">
                            <h3>Our Features:</h3>
                            <ul>
                                <li>Secure patient record management</li>
                                <li>Easy patient search and filtering</li>
                                <li>Responsive design for all devices</li>
                                <li>Real-time patient data updates</li>
                            </ul>
                        </div>
                    </div>
                </div>
            );
        };

        // Patients Page Component
        const Patients = () => {
            const [patients, setPatients] = useState([]);
            const [filteredPatients, setFilteredPatients] = useState([]);
            const [searchQuery, setSearchQuery] = useState('');
            const [selectedPatient, setSelectedPatient] = useState(null);
            const [showModal, setShowModal] = useState(false);
            const [showAddForm, setShowAddForm] = useState(false);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            // Fetch patient data from API
            useEffect(() => {
                const fetchPatients = async () => {
                    try {
                        setLoading(true);
                        const response = await fetch('https://jsonplaceholder.typicode.com/users');
                        
                        if (!response.ok) {
                            throw new Error('Failed to fetch patient data');
                        }
                        
                        const users = await response.json();
                        
                        // Transform API data to patient format
                        const patientData = users.map(user => ({
                            id: user.id,
                            name: user.name,
                            age: Math.floor(Math.random() * 80) + 18,
                            contact: user.phone,
                            email: user.email,
                            address: user.address.street + ', ' + user.address.city,
                            medicalHistory: ['Hypertension', 'Diabetes'].slice(0, Math.floor(Math.random() * 2) + 1),
                            lastVisit: new Date(Date.now() - Math.random() * 90 * 24 * 60 * 60 * 1000).toLocaleDateString(),
                            bloodGroup: ['A+', 'B+', 'O+', 'AB+'][Math.floor(Math.random() * 4)]
                        }));
                        
                        setPatients(patientData);
                        setFilteredPatients(patientData);
                        setError(null);
                    } catch (err) {
                        setError(err.message);
                        console.error('Error fetching patients:', err);
                    } finally {
                        setLoading(false);
                    }
                };

                fetchPatients();
            }, []);

            // Filter patients based on search query
            useEffect(() => {
                if (searchQuery.trim() === '') {
                    setFilteredPatients(patients);
                } else {
                    const filtered = patients.filter(patient =>
                        patient.name.toLowerCase().includes(searchQuery.toLowerCase())
                    );
                    setFilteredPatients(filtered);
                }
            }, [searchQuery, patients]);

            const handleViewDetails = (patient) => {
                setSelectedPatient(patient);
                setShowModal(true);
            };

            const handleAddPatient = (newPatient) => {
                const patientWithId = {
                    ...newPatient,
                    id: patients.length + 1
                };
                setPatients(prev => [...prev, patientWithId]);
                setShowAddForm(false);
            };

            if (loading) {
                return (
                    <div className="patients-page">
                        <div className="loading-spinner">Loading patients...</div>
                    </div>
                );
            }

            if (error) {
                return (
                    <div className="patients-page">
                        <div className="error-message">
                            Error: {error}
                            <button onClick={() => window.location.reload()} className="retry-btn">
                                Retry
                            </button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="patients-page">
                    <div className="patients-header">
                        <h2>Patient Records</h2>
                        <button 
                            className="add-patient-btn"
                            onClick={() => setShowAddForm(true)}
                        >
                            + Add New Patient
                        </button>
                    </div>

                    <SearchBar 
                        searchQuery={searchQuery}
                        onSearchChange={setSearchQuery}
                    />

                    <div className="patients-stats">
                        <div className="stat-card">
                            <h3>Total Patients</h3>
                            <p>{patients.length}</p>
                        </div>
                        <div className="stat-card">
                            <h3>Showing</h3>
                            <p>{filteredPatients.length}</p>
                        </div>
                    </div>

                    <div className="patients-grid">
                        {filteredPatients.length === 0 ? (
                            <div className="no-patients">
                                {searchQuery ? 'No patients found matching your search.' : 'No patients available.'}
                            </div>
                        ) : (
                            filteredPatients.map(patient => (
                                <PatientCard
                                    key={patient.id}
                                    patient={patient}
                                    onViewDetails={handleViewDetails}
                                />
                            ))
                        )}
                    </div>

                    {showModal && selectedPatient && (
                        <PatientModal
                            patient={selectedPatient}
                            onClose={() => setShowModal(false)}
                        />
                    )}

                    {showAddForm && (
                        <AddPatientForm
                            onAddPatient={handleAddPatient}
                            onCancel={() => setShowAddForm(false)}
                        />
                    )}
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('home');

            const renderPage = () => {
                switch (currentPage) {
                    case 'home':
                        return <Home />;
                    case 'patients':
                        return <Patients />;
                    case 'about':
                        return <About />;
                    default:
                        return <Home />;
                }
            };

            return (
                <div className="app">
                    <Header currentPage={currentPage} setCurrentPage={setCurrentPage} />
                    <main className="main-content">
                        {renderPage()}
                    </main>
                </div>
            );
        };

        // Render the App
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>